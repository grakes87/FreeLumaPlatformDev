---
phase: 06-bug-fixes
plan: 06
type: execute
wave: 2
depends_on: [01, 02, 03, 04, 05]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "`npx next build` completes with zero TypeScript errors"
    - "All 14 bug fixes verified working or confirmed addressed"
  artifacts: []
  key_links: []
---

<objective>
Verify all bug fixes from Plans 01-05 with a clean build and user-facing verification checklist.

Purpose: Ensure the build passes and all fixes are functional before closing the phase.
Output: Verified build + human-confirmed UX fixes.
</objective>

<execution_context>
@/Users/admin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/admin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/06-bug-fixes/06-RESEARCH.md
@.planning/phases/06-bug-fixes/06-01-SUMMARY.md
@.planning/phases/06-bug-fixes/06-02-SUMMARY.md
@.planning/phases/06-bug-fixes/06-03-SUMMARY.md
@.planning/phases/06-bug-fixes/06-04-SUMMARY.md
@.planning/phases/06-bug-fixes/06-05-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify clean build</name>
  <files></files>
  <action>
  Run `npx next build` and confirm it completes with zero TypeScript errors and zero build errors.

  If any errors remain:
  1. Read the error output
  2. Fix each error (likely introduced by plans 01-05)
  3. Re-run build until clean

  Also check for any new lint warnings or deprecation notices in the build output that may indicate problems with the fixes.
  </action>
  <verify>`npx next build` exits with code 0 and shows "Compiled successfully".</verify>
  <done>Build passes cleanly with zero errors.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
  All 14 bug fixes across 5 plans:
  - Plan 01: Build error fixed, guest scroll snap restored, media caching headers added
  - Plan 02: Feed TikTok carousel swipe, video tap-to-pause, repost verified badges (FYP user_reposted)
  - Plan 03: Prayer card heart icon, reaction highlight, mark-answered API fix, new prayer auto-switch, video preload
  - Plan 04: Prayer composer single Photo/Video button, theme-aware styling
  - Plan 05: Video thumbnail generation utility integrated into both composers
  </what-built>
  <how-to-verify>
  Start the dev server (`npm run dev`) and test these flows:

  **1. Guest Daily Content (Bug #1)**
  - Open app in incognito/logged-out state
  - Scroll daily content — verify it snaps between days

  **2. Feed TikTok Mode (Bugs #2, #3, #4)**
  - Log in, go to Feed (ensure TikTok mode is active via admin setting)
  - Find a post with multiple images — swipe left/right on the carousel
  - Find a video post — tap the video area to pause/play
  - Find a repost in FYP tab — verify verified badge shows on original author

  **3. Prayer Wall Cards (Bugs #6, #7, #8, #9, #10)**
  - Go to Prayer Wall
  - Verify prayer cards show outlined heart icon (not prayer emoji)
  - Tap a reaction on a prayer card — verify it highlights visually
  - Create a new prayer request — verify it auto-switches to My Requests and shows immediately
  - Mark a prayer as answered — verify it moves to Answered section

  **4. Prayer Composer (Bugs #11, #12)**
  - Open prayer composer — verify single "Photo/Video" button (no separate Camera/Gallery)
  - If using light theme, verify composer matches light theme (not forced dark)

  **5. Video Thumbnails (Bugs #5, #13)**
  - In feed composer, upload a video — verify thumbnail preview appears (not black rectangle)
  - In prayer composer, upload a video — verify thumbnail preview appears

  **6. General**
  - Navigate between all main sections (Daily, Feed, Prayer, Watch, Profile)
  - Check browser console for errors on each page
  </how-to-verify>
  <resume-signal>Type "approved" if all fixes work, or describe any issues found.</resume-signal>
</task>

</tasks>

<verification>
1. `npx next build` completes with zero errors
2. All 14 bugs verified by human tester
</verification>

<success_criteria>
- Clean build (zero TypeScript errors)
- All user-reported bugs fixed and verified
- No new runtime errors introduced
</success_criteria>

<output>
After completion, create `.planning/phases/06-bug-fixes/06-06-SUMMARY.md`
</output>
